<%- include('partials/header') %>
<div class="container mt-4">
  <div class="card">
    <div class="card-header">
      <h3>BREAD(Browse, Read, Edit, Add, Delete)</h3>
      <h4>Filters</h4>
    </div>

    <div class="card-body">
      <form action="" method="get">
        <input type="hidden" name="page" value="1">
        <div class="row mb-3">
          <label for="id" class="col-sm-2 col-form-label"
            ><input type="checkbox" name="idcheck" id="id" /> ID</label
          >
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control"
              id="id"
              name="id"
              placeholder="ID"
            />
          </div>
        </div>

        <div class="row mb-3">
          <label for="string" class="col-sm-2 col-form-label"
            ><input type="checkbox" name="stringcheck" id="string" /> String</label
          >
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control"
              id="string"
              name="string"
              placeholder="String"
            />
          </div>
        </div>

        <div class="row mb-3">
          <label for="integer" class="col-sm-2 col-form-label"
            ><input
              type="checkbox"
              name="integercheck"
              id="integer"
            /> Integer</label
          >
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control"
              id="integer"
              name="integer"
              placeholder="Integer"
            />
          </div>
        </div>

        <div class="row mb-3">
          <label for="float" class="col-sm-2 col-form-label"
            ><input type="checkbox" name="floatcheck" id="float" /> Float</label
          >
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control"
              id="float"
              name="float"
              placeholder="Float"
            />
          </div>
        </div>

        <div class="row mb-1">
          <label for="date" class="col-sm-2 col-form-label"
            ><input type="checkbox" name="datecheck" id="date" /> Date</label
          >
          <div class="col-sm-3">
            <input
              type="date"
              class="form-control"
              id="date"
              name="startdate"
              placeholder="Start Date"
            />
          </div>
        </div>

        <div class="row mb-3">
          <label for="date" class="col-sm-2 col-form-label"></label>
          <div class="col-sm-3">
            <label class="col mb-1">to</label>
            <input
              type="date"
              class="form-control"
              id="date"
              name="enddate"
              placeholder="End Date"
            />
          </div>
        </div>

        <div class="row mb-3">
          <label for="boolean" class="col-sm-2 col-form-label"
            ><input
              type="checkbox"
              name="booleancheck"
              id="boolean"
            /> Boolean</label
          >
          <div class="col-sm-10">
            <select name="boolean" class="form-select" id="boolean">
              <option value="" selected> Choose the boolean ...</option>
              <option value=true>True</option>
              <option value=false>False</option>
            </select>
          </div>
        </div>

        <button type="submit" class="btn btn-primary">Search</button>
        <a href="/" class="btn btn-warning">Reset</a>
      </form>

      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>No</th>
            <th>String</th>
            <th>Integer</th>
            <th>Float</th>
            <th>Date</th>
            <th>Boolean</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% data.forEach((item, index) => { %>
          <tr>
            <td><%= index + 1 + offset %></td>
            <td><%= item.string %></td>
            <td><%= item.integer %></td>
            <td><%= item.float %></td>
            <td><%= moment(item.date).format('DD MMMM YYYY') %></td>
            <td><%= item.boolean ? true : false%></td>
            <td>
              <a href="/edit/<%= item.id %>" class="btn btn-success">Edit</a>
              <a
                href="/delete/<%= item.id %>"
                onclick="return confirm('Are you sure you wanna delete this ?')"
                class="btn btn-danger"
                >Delete</a
              >
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>

      <nav aria-label="Page navigation example">
        <ul class="pagination">
          <li class="page-item">
            <%if(page != 1) {%>
            <a class="page-link" href="<%= url.replace(`page=${page}`,`page=${Number(page)-1}`) %>" aria-label="Previous">
              <span aria-hidden="true">Previous</span>
            </a>
            <% } %>
          </li>

          <% for(let i = 1; i <= pages; i++) { %>
          <li class="page-item <%= i == page ? ' active ' : ''%>">
            <a class="page-link" href="<%= url.replace(`page=${page}`,`page=${i}`) %>"><%= i %></a>
          </li>
          <% } %>
          <li class="page-item">
            <%if(page <= pages && page != pages) {%>
            <a class="page-link" href="<%= url.replace(`page=${page}`,`page=${Number(page)+1}`) %>">Next</a>
            <% } %>

            
          </li>
        </ul>
      </nav>

      <a href="/add" class="btn btn-primary">Add</a>
    </div>
  </div>
</div>

<%- include('partials/footer') %>
